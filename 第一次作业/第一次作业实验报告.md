## 一、实验名称
   基于VirtualBox的网络攻防基础环境搭建 

## 二、实验要求
- [ ] 靶机可以直接访问攻击者主机
- [x] 攻击者主机无法直接访问靶机
- [x] 网关可以直接访问攻击者主机和靶机
- [ ] 靶机的所有对外上下行流量必须经过网关（攻击者的网关没有设置为网关对应网卡的ip地址）
- [ ] 所有节点均可以访问互联网（靶机不能上网）

## 三、实验过程及结果
网关连接攻击者的网卡  
![image](https://github.com/guangguang831/ns/blob/master/%E7%AC%AC%E4%B8%80%E6%AC%A1%E4%BD%9C%E4%B8%9A/%E8%BF%9E%E6%8E%A5%E6%94%BB%E5%87%BB%E8%80%85%E7%9A%84%E7%BD%91%E5%8D%A1.png)

网关连接靶机的网卡  
![image](https://github.com/guangguang831/ns/blob/master/%E7%AC%AC%E4%B8%80%E6%AC%A1%E4%BD%9C%E4%B8%9A/%E8%BF%9E%E6%8E%A5%E9%9D%B6%E6%9C%BA%E7%9A%84%E7%BD%91%E5%8D%A1.png)

网关ip  
![image](https://github.com/guangguang831/ns/blob/master/%E7%AC%AC%E4%B8%80%E6%AC%A1%E4%BD%9C%E4%B8%9A/%E7%BD%91%E5%85%B3ip%E5%9C%B0%E5%9D%80.png)

靶机的网卡  
![image](https://github.com/guangguang831/ns/blob/master/%E7%AC%AC%E4%B8%80%E6%AC%A1%E4%BD%9C%E4%B8%9A/%E9%9D%B6%E6%9C%BA%E7%9A%84%E7%BD%91%E5%8D%A1.png)

靶机ip  
![image](https://github.com/guangguang831/ns/blob/master/%E7%AC%AC%E4%B8%80%E6%AC%A1%E4%BD%9C%E4%B8%9A/%E9%9D%B6%E6%9C%BAip.png)

攻击者的网卡  
![image](https://github.com/guangguang831/ns/blob/master/%E7%AC%AC%E4%B8%80%E6%AC%A1%E4%BD%9C%E4%B8%9A/%E6%94%BB%E5%87%BB%E8%80%85%E7%9A%84%E7%BD%91%E5%8D%A1.png)

攻击者ip  
![image](https://github.com/guangguang831/ns/blob/master/%E7%AC%AC%E4%B8%80%E6%AC%A1%E4%BD%9C%E4%B8%9A/%E6%94%BB%E5%87%BB%E8%80%85ip.png)

网关攻击者互相访问  
![image](https://github.com/guangguang831/ns/blob/master/%E7%AC%AC%E4%B8%80%E6%AC%A1%E4%BD%9C%E4%B8%9A/%E7%BD%91%E5%85%B3%E6%94%BB%E5%87%BB%E8%80%85%E4%BA%92ping.png)

网关靶机互相访问  
![image](https://github.com/guangguang831/ns/blob/master/%E7%AC%AC%E4%B8%80%E6%AC%A1%E4%BD%9C%E4%B8%9A/%E7%BD%91%E5%85%B3%E9%9D%B6%E6%9C%BA%E4%BA%92ping.png)

攻击者、网关访问网络  
![image](https://github.com/guangguang831/ns/blob/master/%E7%AC%AC%E4%B8%80%E6%AC%A1%E4%BD%9C%E4%B8%9A/%E8%AE%BF%E9%97%AE%E7%BD%91%E7%BB%9C.png)






## 四、实验过程中未解决的问题
1. 靶机无法访问攻击者，也不能上网，在访问攻击者的时候会出现“Destination Host Unreachable”的信息（此处因实验过程中没有考虑周全，出现问题后直接就去网上找解决方案所以忘记截图了）  
根据网上提供的方案并没有解决问题，就把网卡换了桥接模式，但此时攻击者也不能连上网，所以还是使用了nat网络  
改回nat网络后，靶机仍无法访问攻击者，也无法上网，但在尝试访问的时候不会出现“Destination Host Unreachable”的信息
2. 攻击者主机还存在一个问题，设置网关为网关ip地址的情况下，无法上网，在网关使用route -n命令查看后发现网关被设置为10.0.2.1，在攻击者主机将网关改为后10.0.2.1后可上网
![image](D:\大学\作业\大三上\网络安全\第一次作业\1.png)
![image](D:\大学\作业\大三上\网络安全\第一次作业\2.png)
![image](D:\大学\作业\大三上\网络安全\第一次作业\3.png)