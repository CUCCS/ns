### 网络安全实验报告

#基于VirtualBox的网络攻防基础环境搭建实例讲解

##一、实验目的

了解virtualbox的虚拟网络，在实验的过程中加深对各种网络的认识，掌握IP地址与网关的配置和网络拓扑结构。

##二、实验内容
* 节点：靶机、网关、攻击者主机
* 通性
 * 靶机可以直接访问攻击者主机
 * 攻击者主机无法直接访问靶机
 * 网关可以直接访问攻击者主机和靶机
 * 靶机的所有对外上下行流量必须经过网关
 * 所有节点均可以访问互联网
* 其他要求
 * 所有节点制作成基础镜像（多重加载的虚拟硬盘）
##三、实验思想
　　靶机与网关的网卡1设置内部网，攻击机与网关的网卡2设置NAT网络。网关的网卡1用来连接靶机，网卡2用来连接外网。内部网不能上网通过配置网关来改变靶机的上网状态，改变靶机的路由使攻击机不能访问靶机。
##四、实验步骤
###1.配置三个节点的网络   
 
靶机   
![](https://i.imgur.com/85t7Btl.png)  
  
网关网卡1  
![](https://i.imgur.com/k0ajhZl.png)  
  
网关网卡2  
![](https://i.imgur.com/vQ883Jv.png)

攻击机
![](https://i.imgur.com/dFUKT6D.png)
###2.配置三个节点的ip  

靶机  
![](https://i.imgur.com/3WH5PqS.png)  

网关网卡1
![](https://i.imgur.com/fmRv3E5.png)

网关网卡2
![](https://i.imgur.com/lc3X4Dt.png)

攻击机
![](https://i.imgur.com/5XUHrBU.png)

###3.配置网关使靶机能过上网  ![]()  

配置链接[如何在 Linux 上用 IP转发使内部网络连接到互联网](https://linux.cn/article-5595-1.html)  

###4.配置靶机路由是攻击机不能访问靶机  
![](https://i.imgur.com/08aKSb9.png)
##五、实验结果

* 靶机可以直接访问攻击者主机  
 ![](https://i.imgur.com/hSIeZx0.png) 

* 攻击者主机无法直接访问靶机  
 ![](https://i.imgur.com/wYABDQz.png)
* 网关可以直接访问攻击者主机和靶机
 * 网关访问靶机   
![](https://i.imgur.com/Y46mDWl.png)

 * 网关访问攻击机
![](https://i.imgur.com/aA8Iudr.png)

* 靶机的所有对外上下行流量必须经过网关
  
![](https://i.imgur.com/7qKEcri.png)  



* 所有节点均可以访问互联网
 * 靶机  
![](https://i.imgur.com/uMjwgxS.png)

 * 网关
![](https://i.imgur.com/ARbYS7I.png)

 * 攻击机 
![](https://i.imgur.com/77A9S7m.png)

* 所有节点制作成基础镜像（多重加载的虚拟硬盘）  
![](https://i.imgur.com/bdq0HJU.png) 
![](https://i.imgur.com/Vn3luQr.png) 
![](https://i.imgur.com/rsZMkuj.png)

