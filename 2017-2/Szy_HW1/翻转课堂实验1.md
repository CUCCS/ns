## 翻转课堂实验_1
### 任务要求：
[√]节点：靶机、网关、攻击者主机

[√]靶机可以直接访问攻击者主机

[√]攻击者主机无法直接访问靶机

[√]网关可以直接访问攻击者主机和靶机

[√]靶机的所有对外上下行流量必须经过网关

[√]所有节点均可以访问互联网

[√]所有节点制作成基础镜像（多重加载的虚拟硬盘）

### 实验环境及过程
Kali：网关

Kali-1：靶机

Kali-2：攻击者

#### Kali: 网关拥有两个网卡 一个内部网络网卡 一个NAT网卡

使用了多重加载，减少了系统重复安装的麻烦

内部网络地址：192.168.56.101

NAT网卡地址：10.0.2.4

DNS server：202.205.16.4

![image](https://github.com/BurnyMcDull/ns/raw/master/2017-2/Szy_HW1/1.png)

![image](https://github.com/BurnyMcDull/ns/raw/master/2017-2/Szy_HW1/2.png)

![image](https://github.com/BurnyMcDull/ns/raw/master/2017-2/Szy_HW1/3.png)

#### kali-1：靶机

地址：192.168.56.100

网关是192.168.56.101

采用的是内部网络网卡

![image](https://github.com/BurnyMcDull/ns/raw/master/2017-2/Szy_HW1/4.png)

#### kali-2：攻击者主机

配置攻击机的NAT设置 自动获取

地址：10.0.2.5

DNS server：202.205.16.4

#### 对于网关的额外设置

利用iptable对网关进行配置，允许靶机通过网关访问外部网络

因为内部网络的原因，攻击者主机无法访问靶机但是靶机可以访问攻击者主机

更改ip_forward：0->1 允许进行转发 

靶机可以直接访问攻击者主机

![image](https://github.com/BurnyMcDull/ns/raw/master/2017-2/Szy_HW1/5.png)

![image](https://github.com/BurnyMcDull/ns/raw/master/2017-2/Szy_HW1/6.png)

### 具体要求展示
[√]靶机可以直接访问攻击者主机

![image](https://github.com/BurnyMcDull/ns/raw/master/2017-2/Szy_HW1/7.png)

[√]攻击者主机无法直接访问靶机

![image](https://github.com/BurnyMcDull/ns/raw/master/2017-2/Szy_HW1/8.png)

[√]网关可以直接访问攻击者主机和靶机

![image](https://github.com/BurnyMcDull/ns/raw/master/2017-2/Szy_HW1/10.png)

[√]靶机的所有对外上下行流量必须经过网关

![image](https://github.com/BurnyMcDull/ns/raw/master/2017-2/Szy_HW1/11.png)

[√]所有节点均可以访问互联网

![image](https://github.com/BurnyMcDull/ns/raw/master/2017-2/Szy_HW1/12.png)

![image](https://github.com/BurnyMcDull/ns/raw/master/2017-2/Szy_HW1/13.png)

![image](https://github.com/BurnyMcDull/ns/raw/master/2017-2/Szy_HW1/14.png)



