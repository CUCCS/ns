iOS在运行代码前，都会对即将运行的代码进行签名校验。签名的校验机制是运行在内核里的。因此想要关闭这个校验的话，需要对系统进行越狱才行。内核在vm_fault_enter中规定了绝大部分情况下，具有执行位的页需要进行签名有效性检查，如果检查到该页签名无效会为进程设置kill flag。签名校验分两种情况；如果binary是platform binary，系统会直接校验binary的哈希值是否存在于trustcache中。如果binary是第三方应用程序，会先在内核在检查执行页对应hash值，而页hash对应的签名由用户态进程amfid校验其正确性。