其实 关于 文件写入权限这方面的设计问题.还有待进一步的优化.这里就再谈谈怎么优化.首先 windows 需要一个列表,这个列表每次写入或者更新都需要密码 输入才能够得到权限.而且必须要系统调用,以防止模拟键盘等操作的写入.[这里又有一个非常值得吐槽的地方就是Windows的 键盘 鼠标的输入安全问题(几乎任何程序都可以模拟键盘鼠标执行任何操作).]那么上面这个列表就是用来记录那些程序拥有什么样的访问权限(例如是针对程序所在目录,或者特定目录 还是拥有完全写入权限).当然读取权限也可以加进去,毕竟 加密文件这种梗,如果被断送掉的话,那么以后 读取机密文件上传到网络之类的 也是很可能会有的.细节是,一个程序需要写入某个文件,系统拦截写入操作然后先检查上述列表,如果有权写入则放行,否则弹出授权界面 显示 访问文件的路径 和密码输入框让用户手动输入当前的密码以便于 让用户确认一遍是否同意程序访问.如果同意则放行(把该程序添加到权限列表中),如果不同意则拒绝.