# 自己动手编程实现并讲解TCP connect scan/TCP stealth scan/TCP XMAS scan/UDP scan

## 实验内容
*  TCP connect scan ----实现
*  TCP stealth scan ----实现
*  TCP XMAS scan -------实现
*  UDP scan ---------- 未实现

## 实验环境
- 操作系统：kali linux
- Kaligateway扫描Kalivictim的端口
- Kaligateway：192.168.56.101
- Kalivictim：192.168.56.102

## 实验代码
- [TCP connect scan](code/tcp_connect_scan.py)
- [TCP stealth scan](code/tcp_stealth_scan.py)
- [TCP XMAS scan](code/tcp_xmas.py)
- [UDP scan](code/udp_scan.py)

## 实验过程
###### Kalivictim开启80端口
![开启80端口](https://github.com/choitop/ns/blob/%E7%BF%BB%E8%BD%AC%E8%AF%BE%E5%A0%82/2017-2/LAB_whx/LAB2/image/1.png.PNG)

```shell
systemctl start apache2
```
- TCP connect scan

8080端口关闭

![connect 8080端口关闭](https://github.com/choitop/ns/blob/%E7%BF%BB%E8%BD%AC%E8%AF%BE%E5%A0%82/2017-2/LAB_whx/LAB2/image/2.png.PNG)

80端口开启

![connect 80端口开启](https://github.com/choitop/ns/blob/%E7%BF%BB%E8%BD%AC%E8%AF%BE%E5%A0%82/2017-2/LAB_whx/LAB2/image/3.png.PNG)

- TCP stealth scan

8080端口关闭

![stealth 8080端口关闭](https://github.com/choitop/ns/blob/%E7%BF%BB%E8%BD%AC%E8%AF%BE%E5%A0%82/2017-2/LAB_whx/LAB2/image/4.png.PNG)

80端口开启

![stealth 80端口开启](https://github.com/choitop/ns/blob/%E7%BF%BB%E8%BD%AC%E8%AF%BE%E5%A0%82/2017-2/LAB_whx/LAB2/image/5.png.PNG)

- TCP XMAS scan

 80端口开启

![Xmas 80端口开启](https://github.com/choitop/ns/blob/%E7%BF%BB%E8%BD%AC%E8%AF%BE%E5%A0%82/2017-2/LAB_whx/LAB2/image/6.png.PNG)

- UDP scan

68端口无法打开


###### kalivictim对80端口过滤

![80端口过滤](https://github.com/choitop/ns/blob/%E7%BF%BB%E8%BD%AC%E8%AF%BE%E5%A0%82/2017-2/LAB_whx/LAB2/image/7.png.PNG)

```shell
iptables -A INPUT -p tcp --drop 80 -j DROP
```

- TCP connect scan

![connect 过滤](https://github.com/choitop/ns/blob/%E7%BF%BB%E8%BD%AC%E8%AF%BE%E5%A0%82/2017-2/LAB_whx/LAB2/image/8.png.PNG)

- TCP stealth scan

![stealth 过滤](https://github.com/choitop/ns/blob/%E7%BF%BB%E8%BD%AC%E8%AF%BE%E5%A0%82/2017-2/LAB_whx/LAB2/image/9.png.PNG)

- TCP XMAS scan

![Xmas 过滤](https://github.com/choitop/ns/blob/%E7%BF%BB%E8%BD%AC%E8%AF%BE%E5%A0%82/2017-2/LAB_whx/LAB2/image/10.png.PNG)

- UDP scan

68端口无法打开

-  参考资料
> [http://resources.infosecinstitute.com/port-scanning-using-scapy/](http://resources.infosecinstitute.com/port-scanning-using-scapy/)
